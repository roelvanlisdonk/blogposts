---
ID: 4792
post_title: >
  Starting with ASP.NET 5, TypeScript 1.7
  and the ES6 module syntax compiled to
  ES5.
author: Roel van Lisdonk
post_excerpt: ""
layout: post
permalink: >
  https://www.roelvanlisdonk.nl/2016/01/15/starting-with-asp-net-5-typescript-1-7-and-the-es6-module-syntax-compiled-to-es5/
published: true
post_date: 2016-01-15 16:22:04
---
<p>In the previous <a href="https://www.roelvanlisdonk.nl/?p=4767">post</a> I described how you can get started with ASP.NET 5.</p>  <p>&#160;</p>  <p align="left">The code used in this blog post can be found at: <a title="https://github.com/roelvanlisdonk/Research/tree/master/Blog/ASP.NET5/TypeScriptES6Modules" href="https://github.com/roelvanlisdonk/Research/tree/master/Blog/ASP.NET5/TypeScriptES6Modules">https://github.com/roelvanlisdonk/Research/tree/master/Blog/ASP.NET5/TypeScriptES6Modules</a></p>  <p>&#160;</p>  <p>In this post I will describe how you can get start using TypeScript 1.7 and the ES6 module syntax to order your code in an ASP.NET 5 application.</p>  <p>&#160;</p>  <p>I will explain how you can use a “library” module inside your app code, by using TypeScript and the ES6 module syntax.</p>  <p>The compiled code will be in ES5, so we need a library called “system.js” to load the “ES6 modules” at runtime.</p>  <p>&#160;</p>  <ul>   <li>After you followed the steps in the previous <a href="https://www.roelvanlisdonk.nl/?p=4767">post</a></li>    <li>Add a TypeScript JSON Configuration File to the wwwroot folder</li> </ul>  <p>&#160;</p>  <p><a href="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image-10.png" rel="lightbox"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; margin: 0px 5px; display: inline; padding-right: 0px" border="0" alt="image" src="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image_thumb-10.png" width="580" height="487" /></a></p>  <p>&#160;</p>  <p>Add &quot;module&quot;: &quot;system&quot;, under compileroptions:</p>  <p>&#160;</p>  <p><a href="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image-11.png" rel="lightbox"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; margin: 0px 5px; display: inline; padding-right: 0px" border="0" alt="image" src="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image_thumb-11.png" width="580" height="558" /></a></p>  <p>&#160;</p>  <p>Add two typescript files:</p>  <ul>   <li>wwwroot/core/app.ts</li>    <li>wwwroot/libraries/list/findIndexByItem.ts</li> </ul>  <p><a href="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image-12.png" rel="lightbox"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; margin: 0px 5px; display: inline; padding-right: 0px" border="0" alt="image" src="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image_thumb-12.png" width="578" height="745" /></a></p>  <p>&#160;</p>  <p>&#160;</p>  <p>&#160;</p>  <ul>   <li>Add the <strong>system.js</strong> bower package.</li> </ul>  <p>This is needed, because the typescript will be compiled into javascript modules.</p>  <p>These modules are in the “system.require” format.</p>  <p>We could use other module formats (see tsconfig.json), but in this example I wanted to use system.js</p>  <p>&#160;</p>  <p>Before we can add the system.js bower package, add a “Bower Configuration File” to the root of the project.</p>  <p>&#160;</p>  <p><a href="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image-13.png" rel="lightbox"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; margin: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image_thumb-13.png" width="580" height="402" /></a></p>  <p>&#160;</p>  <p align="left"> In this example I use the folder “wwwroot/libraries” to store all my runtime JavaScript dependencies, so we have to edit the <strong>.bowerrc</strong> file, change:{ “directory”: “wwwroot/lib” } to { “directory”: “wwwroot/libraries” } .</p>  <p>&#160;</p>  <p><a href="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image-14.png" rel="lightbox"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; margin: 0px 5px; display: inline; padding-right: 0px" border="0" alt="image" src="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image_thumb-14.png" width="580" height="306" /></a></p>  <p>&#160;</p>  <p>Now we can install the <strong>system.js</strong> bower package:</p>  <p>&#160;</p>  <p><a href="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image-15.png" rel="lightbox"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; margin: 0px 5px; display: inline; padding-right: 0px" border="0" alt="image" src="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image_thumb-15.png" width="580" height="316" /></a></p>  <p>&#160;</p>  <p>&#160;</p>  <h2>findIndexByItem.ts</h2>  <p>&#160;</p>  <p><a href="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image-16.png" rel="lightbox"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; margin: 0px 5px; display: inline; padding-right: 0px" border="0" alt="image" src="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image_thumb-16.png" width="580" height="362" /></a></p>  <p>&#160;</p>  <p>&#160;</p>  <h2>app.ts</h2>  <p>&#160;</p>  <p><a href="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image-17.png" rel="lightbox"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; margin: 0px 5px; display: inline; padding-right: 0px" border="0" alt="image" src="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image_thumb-17.png" width="559" height="423" /></a></p>  <p>&#160;</p>  <p>&#160;</p>  <h2>index.html</h2>  <p>&#160;</p>  <p align="left">The only javascript file we directly load in the index.html is “/libraries/system.js/dist/system.js”. All other logic will be dynamically loaded by the system.js loader.</p>  <p align="left">&#160;</p>  <p align="left">To&#160; make system.js recognize file paths like System.register([&quot;../libraries/list/findIndexByItem&quot;] , so without the “*.js” extension, we need to add a little configuration by using System.config, then we load the “core/app.js” file and start the application.</p>  <p align="left">The “core/app.js” uses the library module “findIndexByItem.js”. This JavaScript file will be dynamically loaded, when “core/app.js” is requested.</p>  <p align="left">&#160;</p>  <p>&#160;</p>  <p><a href="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image-18.png" rel="lightbox"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; margin: 0px 5px; display: inline; padding-right: 0px" border="0" alt="image" src="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image_thumb-18.png" width="580" height="496" /></a></p>  <p>&#160;</p>  <h2>Result</h2>  <p>&#160;</p>  <p><a href="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image-19.png" rel="lightbox"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; margin: 0px 5px; display: inline; padding-right: 0px" border="0" alt="image" src="https://www.roelvanlisdonk.nl/wp-content/uploads/2016/01/image_thumb-19.png" width="580" height="297" /></a></p>  <p>&#160;</p>  <p>&#160;</p>  <p><strong>Note</strong>: for browsers that do not support promises you need a promise polyfill, that can be found, here: <a title="https://github.com/jakearchibald/es6-promise/" href="https://github.com/jakearchibald/es6-promise/">https://github.com/jakearchibald/es6-promise/</a></p>