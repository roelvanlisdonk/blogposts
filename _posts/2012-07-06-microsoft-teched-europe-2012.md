---
ID: 2757
post_title: Microsoft TechEd Europe 2012
author: Roel van Lisdonk
post_excerpt: ""
layout: post
permalink: >
  https://www.roelvanlisdonk.nl/2012/07/06/microsoft-teched-europe-2012/
published: true
post_date: 2012-07-06 22:56:38
---
<p>After every Microsoft TechEd, I am overwhelmed by the new possibilities. Microsoft TechEd Europe 2012 in Amsterdam was no exception. You always learn new stuff, things you didn’t know they exists or hints to which direction Microsoft is taking.</p>  <p>&#160;</p>  <p><strong>Disclaimer</strong></p>  <p>Because of the brain overload after the TechEd, some notes might not be entirely correct, so please lookup the terms if you are interested in some described technique.</p>  <p>&#160;</p>  <p><strong>DevOps</strong></p>  <p>In many companies the development role and operations are strictly separated, but now there is a trend these roles blur or in many cases a team consist of developers and IT professionals. I think this is a good thing, in doing so, the team is made responsible for the complete application lifecycle management.</p>  <p><strong>BYOD</strong></p>  <p>Bring your own device was a big thing on the TechEd. They showed a lot of improvements they have done to allow people to bring there own devices in to the corporate network and allowing administrators to have control over these device. Or the other way around with <font color="#4f81bd">Windows as you go</font>, just install Windows on a USB stick and plug this stick in to your computer at home, now the OS on the stick can use the CPU, Memory etc from the home computer, but it cannot access the hard drives from that computer, this ensures the OS on the USB stick is isolated from “evil” things sitting on the home computer. An other improvement is the fact, that apps on android or iOS are now able to authenticate against active directory without these devices joining a domain.</p>  <p>&#160;</p>  <p><strong>Out of band deployment with NuGet</strong></p>  <p>As we move in to the future, more and more parts of the .NET framework will ship as NuGet packages. This allows for a faster development cycle. New version of ASP .NET don’t have to wait on the next .NET version. This does not only apply to ASP .NET but also other parts like Entity Framework and maybe even WinForms. Because NuGet allows you to target previous versions, new versions can introduce breaking changes, without impacting the previous releases.</p>  <p>&#160;</p>  <p><strong>One ASP .NET</strong></p>  <p>Just start a new project with an empty template and add features by using NuGet. Mix and match web forms with entity framework or even use MVC en web forms in one project.</p>  <p>&#160;</p>  <p><strong>Async and Await</strong></p>  <p>At first I thought what is all that fuss on async and await, I can do asynchronous programming since .NET1.1, but after seeing it in use this is really, really nice. It will make code easier to understand, because you can write code in the way you think (synchronously). An other nice feature: Await will <font color="#4f81bd">return on the UI thread</font>. As a developer you don’t have to worry about marshaling back to the UI thread.</p>  <p>Even <font color="#4f81bd">on the server</font> it can be used to free the threads that handle the incoming request. Overall it’s a technique to be used, when you expect an operation to take some time or requires a lot of resources.</p>  <p>Async and Await can now also be used in <font color="#4f81bd">unit tests</font>, just decorate your test method with the &quot;async&quot; keyword and you can use await in your test.</p>  <p>&#160;</p>  <p><strong>WCF vs ASP.NET web api vs SignalR</strong></p>  <p>To communicate from a client app to a server, there are many techniques you can use, 3 of them are WCF, ASP.NET web api and SignalR.</p>  <p><font color="#4f81bd">WCF</font>: Best used, when specific bindings are needed, like Microsoft Message Queue, TCP binary transport etc. In the past this was the technique I would use, but moving in to the future I will be using Microsoft web api more and more.&#160; </p>  <p><font color="#4f81bd">ASP .NET Web Api</font>: best used when creating clients apps that will communicate to REST services by using JSON or XML</p>  <p><font color="#4f81bd">SignalR:</font> best used when real time communication / push notification is required. I think it will play create with cloud based solutions and I think it has the potential to be the communication technique of the future. It will even play nice with Note.js, iOS, Android, Windows 8, Windows Phone 8 etc. SignalR can use web sockets which as we know can be used through firewalls and can be used with load balancers to supply a persistent full duplex connection. This allows for real time communication. It is now possible to serve 40.000 concurrent persistent connections on one server and the goal of the developers is 100.000 concurrent persistent connections. This is really mind blowing, I have once got a server on his knees with 30 concurrent connections (well the software had some bugs that caused this situation, but then again…. 40.000 connections is a lot.) And above all, it scales like “piep”.</p>  <p>Let say, you want to update all apps, when a user closes it’s browser, this is possible with SignalR, showing all users in real time, user x has left the building.</p>  <p>&#160;</p>  <p><strong>XML vs JSON</strong></p>  <p>In the past XML was the way to communicate with web services, moving to the future JSON will be technique I use to communicate to web services (where possible). It’s even possible to communicate to an ODATA service by using JSON. JSON is less bulky and serialization / deserializations tends to be easier and faster. Even some config files start to use JSON instead of XML.</p>  <p><strong>General .NET 4.5 improvements</strong></p>  <ul>   <li><font color="#4f81bd">Reduced footprint</font>, the overall .NET footprint is 40% smaller then the 4.0 footprint.</li>    <li><font color="#4f81bd">Automatic and smart ngen</font>, generates native images for frequently used assemblies in the background.</li>    <li>For more information, see <a href="http://blogs.microsoft.co.il/blogs/sasha/archive/2011/09/17/improvements-in-the-clr-core-in-net-framework-4-5.aspx">http://blogs.microsoft.co.il/blogs/sasha/archive/2011/09/17/improvements-in-the-clr-core-in-net-framework-4-5.aspx</a></li>    <li><font color="#4f81bd">WeakReference&lt;T&gt;,</font> a weakreference is a way to tell the CLR: don’t keep this object around on my account,       <br />but for as long as something else needs it, I’d like to be able to get access to. </li>    <li><font color="#4f81bd">Reduced attributes in MEF</font>, I think attributes have there place, but I don’t like attributes to be scattered around every where, so I think the reduction of attributes in MEF is a good thing.</li>    <li><font color="#4f81bd">SecureString</font>, using encrypted strings in memory.</li>    <li>Never used it, but if you are developing for ARM make sure you use the <font color="#4f81bd">volatile keyword</font>, this ensure your variables are set before you use them, this has something to do with the difference in memory allocation between x86 and ARM.</li>    <li>OOB a lot faster then 4.0, so you van improve the speed of your apps just by compiling against .net 4.5.</li> </ul>  <p><strong>WCF 4.5 improvements</strong></p>  <ul>   <li>Add reference will only generate the necessary config files. </li>    <li>svcutil /sc will generate a proxy class, like the old WSDL SOAP tool. </li>    <li>NetHttpBinding (MSDN: NetHttpBinding is a binding designed for consuming HTTP or WebSocket services and uses binary encoding by default. Note: WebSockets are only supported on Windows 8.) </li>    <li>UDP support. This enables broadcasting.</li> </ul>  <p><strong>Microsoft Visual Studio 2012 improvements</strong></p>  <ul>   <li>Round-trip development with Microsoft Visual Studio 2010. This will be the first time the solution and project files of a new Microsoft Visual Studio version are compatible with a previous version. This allows members of a team to have different versions of Microsoft Visual Studio and work on the same project.</li>    <li>Remote desktop from visual studio, so you don’t have to leave Microsoft Visual Studio and you can store a list of different remote desktop connection.</li>    <li>CSS, smart color editor.</li>    <li>No more support for msi packages. Microsoft wants you to create Windows 8 Metro style apps and they have there own deployment mechanism and this will be the future of deployment, good by setup projects and *.msi packages.</li> </ul>  <p><strong>Project Roslyn</strong></p>  <p>Compiler as a service, well I think it was after the TechEd in Barcelona in 2007 that I heard of project roslyn and know it will ship with Microsoft Visual Studio 2012 and in the next version (Microsoft Visual Studio 2014) it will be the default compiler. It allows you to “new up” an instance of the compiler class and then you will be able to generate and use this generated code from within a .NET application. Think of the possibilities, they are endless!</p>  <p><strong>MVC4</strong></p>  <ul>   <li>Because it maps directly to the HTTP verbs it seems a better fit to HTTP then for example web forms:</li>    <ul>     <li>GET&#160;&#160;&#160;&#160;&#160;&#160; (select / query)</li>      <li>POST&#160;&#160;&#160;&#160; (insert)</li>      <li>PUT&#160;&#160;&#160;&#160;&#160;&#160; (update)</li>      <li>DELETE&#160; (delete)</li>      <li>HEAD&#160;&#160;&#160;&#160; (header info)</li>   </ul>    <li>It used JSON.NET for serialization and deserialization to and from JSON.</li>    <li>Can use content negotiation, this allows one services to service the same content as XML or JSON based on the client request.</li>    <li>Single page web api: <a href="http://www.asp.net/single-page-application">http://www.asp.net/single-page-application</a>. Create a single page web app.</li>    <li>Apply AOP with MVC4 action- and authentication filters.</li>    <li>MVC can ben deployed as a combined UI / Service layer or only the UI or only the Service layer.</li>    <li>Validation on controls instead of whole page, so a html editor on a website can sent &quot;unsafe&quot; code to the server, while all other controls are validated.</li>    <li>Easy support for OpenID and OAuth. (authentication for Google, Facebook, twitter etc.)</li> </ul>  <p><strong>Entity Framework improvements</strong></p>  <ul>   <li>Not new, but for me the first time I saw <font color="#4f81bd">Entity Framework migrations</font> at work and I was impressed. Updating the database schema based on changes on the POCO classes even letting you to create a T-SQL script of these changes. Rolling back en forward between different versions of the database, nice. </li>    <li>A <font color="#4f81bd">Seed method</font> to enter automatically enter test data or lookup data into your database.</li>    <li>Support for spatial data</li>    <li>Support for table valued functions</li>    <li>Support for enums</li>    <li>Coming to Windows Phone</li> </ul>  <p><strong>Microsoft TFS improvements</strong></p>  <ul>   <li><font color="#4f81bd">Time tracking on TFS work items</font> is not supplied OOB but it can be accomplished by subscribing to the TFS event model.</li>    <li>Within Microsoft every night, 17TB of code is compiled and tested, that’s a lot <img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-winkingsmile" alt="Winking smile" src="http://www.roelvanlisdonk.nl/wp-content/uploads/2012/07/wlEmoticon-winkingsmile.png" /></li>    <li>Microsoft now offers TFS service in the cloud for every body, sign up for free. What intrigues me, is the pace on which they can update this service, as I understand the service is updated every week with code delivered for RTM, 3 week earlier. </li>    <li>Finally a nice customizable digital Kanban board.</li> </ul>  <p><strong>Microsoft IIS 8 improvements</strong></p>  <ul>   <li><font color="#4f81bd">CPU throttling bases on load</font>. So a process can take 100% of the CPU, when there are no other user requests, but when new user request come in, this processes can be throttled to 30% CPU usage.</li>    <li>Dynamic IP restrictions. Block or log ip addresses based on the number of request over time. Even if these IP addresses are behind proxies. The stack in the HTTP headers will be walked until the root client is found. The dynamic <font color="#4f81bd">ip restrictions</font> can reduce the impact of DDOS attacks.</li>    <li><font color="#4f81bd">Automatic website warm-up</font>: a static HTML page can be shown as long as the web site is in it’s startup face or when you are using a load balancer an other server can serve request as long as the web site is in it’s startup face, then you will be able to recycle application pools without impacting availability. </li> </ul>  <p><strong>WinRT (Windows Runtime)</strong></p>  <p>Think of WinRT as the managed counter part of the Win32 api. So you can access system resources right from the metal by using managed code without the dreadful p-invoke. Interact with Windows on a managed way. Native HTML5 apps will come to Windows Phone, because Windows Phone will be using WinRT and IE10.</p>  <p><strong>Hyper-V</strong></p>  <ul>   <li>1.000.000 ops on one server is impressive.</li>    <li>It seems to me that it is becoming a real option for the VMWare products.</li> </ul>  <p><strong>Small developer tips</strong></p>  <ul>   <li><font color="#4f81bd">Lambdas</font>, just learn to use and love them, if you aren’t familiar with them.</li>    <li><font color="#4f81bd">Scaffolding</font>, is a technique used to generate database access code, that can be used to apply curd operations on the generated database entities.</li>    <li>Use <font color="#4f81bd">Task.Delay.Sleep</font> (non blocking operation, but with some overhead) instead of Thread.Sleep (blocking operation).</li>    <li><font color="#4f81bd">Automatic documentation generation of web services api</font> with ASP .NET IApiExplorer.</li>    <li><font color="#4f81bd">Less</font>, extends CSS with dynamic behavior such as variables, mixins, operations and functions <a href="http://lesscss.org/">http://lesscss.org/</a></li>    <li>Some interesting stuff I have to look at:&#160; gherkin, specflow, speclog, Microsoft StreamInsight, DataSift and rx.net</li> </ul>  <p>&#160;</p>  <p>And the list goes on and on….. <img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-winkingsmile" alt="Winking smile" src="http://www.roelvanlisdonk.nl/wp-content/uploads/2012/07/wlEmoticon-winkingsmile.png" /></p>  <p>&#160;</p>  <p>I didn’t mention Microsoft Visual Studio LightSwitch with the HTML client and improvements on Microsoft Azure, because that will be separate blog posts.</p>