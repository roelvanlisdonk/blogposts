---
ID: 558
post_title: 'Simplest way to detect session timeout in an asp .net 2.0 web application in C#'
author: Roel van Lisdonk
post_excerpt: ""
layout: post
permalink: >
  https://www.roelvanlisdonk.nl/2009/06/18/simplest-way-to-detect-session-timeout-in-an-asp-net-20-web-application-in-c/
published: true
post_date: 2009-06-18 14:58:29
---
<p>The simplest way to detect if a session timeout occurred in an asp .net 2.0 web application use Global.asax Session_Start and Page_Load event.   <br />see: <a title="http://blogs.msdn.com/nikhiln/archive/2007/06/21/detecting-session-timeout-in-asp-net-2-0-web-applications.aspx" href="http://blogs.msdn.com/nikhiln/archive/2007/06/21/detecting-session-timeout-in-asp-net-2-0-web-applications.aspx">http://blogs.msdn.com/nikhiln/archive/2007/06/21/detecting-session-timeout-in-asp-net-2-0-web-applications.aspx</a></p>  <p>&#160;</p>  <p><strong>Using Session[&quot;xxx&quot;] value to determine the session timeout:</strong> This is a <em>&quot;quick and dirty&quot;</em> hack that can be introduced into an application to figure out whether a timeout has occured. We need to do two things here.     <br /><em>First, in Global.asax, create your own GUID and put it in the session object,</em>    <br /></p> <form id="aspnetForm" method="post" name="aspnetForm" action="http://blogs.msdn.com/nikhiln/archive/2007/06/21/detecting-session-timeout-in-asp-net-2-0-web-applications.aspx">   <div id="wrapper">     <div id="container">       <div id="contentwrapper">         <div id="content">           <div id="content2">             <div class="post"><font color="#0000ff" size="2">                 <p class="postsub">&#160;&#160;&#160; void</p>                 <font size="2"> Session_Start(</font><font color="#0000ff" size="2">object</font><font size="2"> sender, </font><font color="#2b91af" size="2">EventArgs</font><font size="2"> e)                    <br />&#160;&#160;&#160; {                    <br /></font><font color="#008000" size="2">&#160;&#160;&#160;&#160;&#160;&#160; // Code that runs when a new session is started                   <br /></font>&#160;&#160;&#160;&#160;&#160;&#160; Session[&quot;CustomSessionId&quot;] = <font color="#2b91af" size="2">Guid</font><font size="2">.NewGuid();</font>                  <br />&#160;&#160;&#160; }                  <br /><em>                   <br />Second</em>, BasePage.cs which would have inherited Page, in PageLoad() event, check whether the Session[&quot;CustomSessionId&quot;] == null, if it IS null, it means that the session was timed-out and AspNet runtime cleared it out.<font size="2"></font>                  <p class="postsub"></p>                 <font color="#0000ff" size="2">&#160;&#160;&#160; if</font><font size="2">( Session[</font><font color="#a31515" size="2">&quot;CustomSessionId&quot;</font><font size="2">] == </font><font color="#0000ff" size="2">null</font><font size="2">)                   <br />&#160;&#160;&#160; {                    <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; Response.Redirect(</font><font color="#a31515" size="2">&quot;TimeoutPage.htm&quot;</font><font size="2">);                   <br />&#160;&#160;&#160; }</font></font></div>           </div>         </div>       </div>     </div>   </div> </form>